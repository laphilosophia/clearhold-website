---
interface Props {
  currentPath: string
}

const { currentPath } = Astro.props

const navItems = [
  { href: '/docs/quick-start', label: 'Quick Start' },
  { href: '/docs/mental-model', label: 'Mental Model' },
  { href: '/docs/api-reference', label: 'API Reference' },
  { href: '/pricing', label: 'Pricing' },
]

function isActive(href: string): boolean {
  if (href === '/') return currentPath === '/'
  return currentPath.startsWith(href)
}
---

<nav
  class="fixed top-4 left-0 right-0 z-50 w-full container mx-auto bg-bg-base/20 border border-white/5 backdrop-blur-xl rounded-full"
>
  <div class="flex h-16 items-center justify-between px-6 lg:px-12">
    <!-- Logo -->
    <a href="/" class="flex items-center gap-3 transition-opacity hover:opacity-80 group">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 300 300" class="size-7">
        <path
          fill="url(#a)"
          d="M145.297 261.297a4 4 0 0 0 5.657 0l130.842-130.818a4 4 0 0 0 0-5.658l-91.717-91.705a4 4 0 0 0-5.657 0l-28.369 28.38a4 4 0 0 0 0 5.657l43.818 43.818a4 4 0 0 1 0 5.657l-25.58 25.57a4 4 0 0 1-5.656-.001l-37.155-37.155a4 4 0 0 0-5.658.002l-65.571 65.64a4 4 0 0 0 .001 5.655l11.845 11.845a4 4 0 0 0 5.657 0l46.983-46.983a4 4 0 0 1 5.642-.016l1.216 1.203a4 4 0 0 1 .02 5.668l-46.894 47.028a4 4 0 0 0 .004 5.653l11.847 11.847a4 4 0 0 0 5.657 0l49.846-49.846a4 4 0 0 1 5.654-.002l1.175 1.173a4 4 0 0 1 .002 5.66l-49.852 49.84a4 4 0 0 0 0 5.657l11.843 11.843a4 4 0 0 0 5.657 0l49.848-49.848a4 4 0 0 1 5.652-.005l1.245 1.24a4.001 4.001 0 0 1 .005 5.663l-49.85 49.838a4 4 0 0 0 0 5.657l11.843 11.843Zm-95.65-99.462a4 4 0 0 0 5.656 0l70.444-70.445a4 4 0 0 1 5.657 0l37.168 37.157a4 4 0 0 0 5.656 0l12.156-12.156a4 4 0 0 0 0-5.657l-76.43-76.418a4 4 0 0 0-5.657 0l-88.256 88.268a4 4 0 0 0 .001 5.657l33.605 33.594Z"
        ></path>
        <defs>
          <linearGradient
            id="a"
            x1="149"
            x2="149"
            y1="98"
            y2="329.5"
            gradientUnits="userSpaceOnUse"
          >
            <stop stop-color="#FFFFFF"></stop>
            <stop offset="1" stop-color="#FFFFFF"></stop>
          </linearGradient>
        </defs>
      </svg>

      <span class="text-lg font-semibold tracking-tight text-white">Clearhold</span>
    </a>

    <!-- Desktop Links -->
    <div class="hidden md:flex md:gap-x-8">
      {
        navItems.map((item) => (
          <a
            href={item.href}
            class:list={[
              'relative text-sm font-medium transition-all duration-200',
              isActive(item.href) ? 'text-white!' : 'text-zinc-400! hover:text-white!',
            ]}>
            {item.label}
            {isActive(item.href) && (
              <span class="absolute -bottom-1 left-0 right-0 h-0.5 bg-linear-to-r from-indigo-500 to-purple-500 rounded-full" />
            )}
          </a>
        ))
      }
    </div>

    <!-- Mobile Menu Button -->
    <div class="flex md:hidden">
      <!-- Placeholder -->
    </div>

    <!-- CTA -->
    <div class="hidden md:flex">
      <a
        href="https://github.com/clearhold/engine"
        target="_blank"
        rel="noopener noreferrer"
        class="glass rounded-full px-4 py-1.5 text-xs font-medium text-white! transition-all hover:bg-white/8!"
      >
        GitHub v1.0.0
      </a>
    </div>
  </div>
</nav>
