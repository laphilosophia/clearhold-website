---
import Sidebar from '../components/Sidebar.astro'
import BaseLayout from '../layouts/BaseLayout.astro'

interface Props {
  title: string
  description?: string
  class?: string
}

const { title, description, class: className } = Astro.props
---

<BaseLayout title={title} description={description}>
  <script type="module">
    import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs'
    mermaid.initialize({
      startOnLoad: true,
      theme: 'base',
      themeVariables: {
        primaryColor: '#1a1a1e',
        primaryTextColor: '#d4d4d8',
        primaryBorderColor: '#818cf8',
        lineColor: '#a78bfa',
        secondaryColor: '#131316',
        tertiaryColor: '#0d0d0f',
        fontFamily: 'Inter, system-ui, sans-serif',
      },
    })
  </script>

  <div class="mx-auto max-w-7xl px-6 lg:px-8">
    <div class="lg:grid lg:grid-cols-12 lg:gap-10">
      <!-- Sidebar (Desktop) -->
      <aside
        class="hidden lg:block lg:col-span-3 py-10 sticky top-20 h-[calc(100vh-5rem)] overflow-y-auto scrollbar-thin"
      >
        <Sidebar />
      </aside>

      <!-- Main Content -->
      <main class="py-10 lg:col-span-9 animate-fade-in-up">
        <article class:list={['prose prose-zinc prose-invert max-w-none', className]}>
          <slot />
        </article>
      </main>
    </div>
  </div>
</BaseLayout>
